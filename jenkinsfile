pipeline{
    agent any 
    stages{
        stage("install"){
            steps{
                die("build_node"){
                    sh "npm install"
                }
            }
        }
        stage ('test'){
            steps{
                dir("build_node")
                sh "npm test"
            }
        }
        stage ('docker Build'){
            steps{
                echo "build"
            }
        }
        stage ('docker push'){
            steps{
                echo "push"
            }
        }
         
    }
}